<!DOCTYPE html>
<html>
<head>
  <title>Markdown Previewer</title>
  <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script type="text/babel">
	class App extends React.Component {
	  constructor(props) {
	    super(props);
	    this.state = {
		  inputValue: ''
		}
		this.handleChange = this.handleChange.bind(this);
	  }
	  
	  handleChange(event) {
	    this.setState({
		  inputValue: event.target.value
		}); 
	  }
	  
	  render() {
	    return (
	      <div>
	        <Editor input={this.state.inputValue} handleChange={this.handleChange} />
		<Previewer input={this.state.inputValue} />
	      </div>
	    );
	  }
	  
	};
	
	class Editor extends React.Component {
	  constructor(props) {
	    super(props);
	  };
	  
	  render() {
	    return (
	      <div>
	        <h3>Editor</h3>
	        <textarea id="editor" 
	          value={this.props.input} 
	          onChange={this.props.handleChange} />
	      </div>
	    ); 
	  }
	};
	
	class Previewer extends React.Component {
	  constructor(props) {
	    super(props);
	  }

          getMarkdown() {
            var rawMarkup = marked(this.props.input, {sanitize: true});
            return { __html: rawMarkup};
          }
	  
	  render() {
	    return (
	      <div>
	        <h3>Previewer</h3>
		<div id="preview" dangerouslySetInnerHTML={this.getMarkdown()} />
	      </div>
	    );
	  }
	};
    
    ReactDOM.render(
      <App />, document.getElementById('app')
    );
  </script>
</head>
<body>
	<h1 class="text-center text-primary">Mark Down, The Previewer</h1>
	<div id="app" class="text-center"></div>
</body>
</html>
